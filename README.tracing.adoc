= Integrating Application Tracing

This document outlines the steps required to configure an application to send tracing data to your Docker monitoring stack, which includes Tempo for trace storage and Grafana for visualization.

== Prerequisites

* Your application should be instrumented with an OpenTelemetry-compatible tracing library.

== Overview

Your monitoring stack utilizes Tempo to store traces. Applications need to be configured to send their trace data to Tempo via the OpenTelemetry Protocol (OTLP).

== Configuration Steps

=== Application Instrumentation

.  **Choose an OpenTelemetry Library:**
Select the OpenTelemetry library suitable for your application's programming language (e.g., https://opentelemetry.io/docs/languages/go[opentelemetry-go], https://opentelemetry.io/docs/languages/python[opentelemetry-python]).
.  **Install the Library:**
Add the OpenTelemetry library as a dependency to your project.
.  **Instrument Your Application:**
Modify your application code to create spans and traces using the OpenTelemetry API.
.  **Configure your application to use the endpoint:**
Configure your application's OpenTelemetry exporter to send trace data to the Tempo OTLP endpoint. This is typically done through environment variables or configuration files.
* **Endpoint:** `docker-monitoring-tempo-1.docker-monitoring_public:4317` (gRPC) or `docker-monitoring-tempo-1.docker-monitoring_public:4318` (HTTP)

=== Network Configuration

Ensure that your application's Docker container is connected to the same Docker network as your monitoring stack. In your `docker-compose.yml`, you have defined `docker-monitoring_public`.
[source,yaml]
----
networks:
  - docker-monitoring_public
----

=== Verify Trace Data in Grafana

1.  **Access Grafana:**
Open Grafana in your web browser at `http://localhost:3000`.
2.  **Explore Traces:**
Navigate to the Explore section and select Tempo as your data source.
3.  **Search for Traces:**
Use the search functionality to find traces generated by your application. You should see the spans and traces that you created in your application.

== Troubleshooting

* **Connectivity Issues**
+
Verify that your application can connect to the Tempo endpoint. +
Use `ping docker-monitoring-tempo-1.docker-monitoring_public` +
or `telnet docker-monitoring-tempo-1.docker-monitoring_public 4317` +
from within your application's container to check connectivity.
